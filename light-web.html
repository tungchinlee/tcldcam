<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¥ TCLDCAM - æ™ºèƒ½åµæ¸¬</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; min-height: 100vh; padding: 10px;
        }
        .container { max-width: 800px; margin: 0 auto; }
        .header { text-align: center; padding: 20px 0; }
        .logo { font-size: 3em; margin-bottom: 10px; }
        .title { font-size: 2em; margin-bottom: 10px; }
        .nav { display: flex; background: rgba(255,255,255,0.1); border-radius: 25px; padding: 5px; margin: 20px 0; }
        .nav-item { flex: 1; text-align: center; padding: 12px; border-radius: 20px; cursor: pointer; font-size: 0.9em; }
        .nav-item.active { background: rgba(255,255,255,0.2); }
        .content { background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; min-height: 300px; }
        .btn { background: #ff6b6b; border: none; border-radius: 25px; padding: 15px 30px; color: white; cursor: pointer; font-size: 1.1em; margin: 10px; }
        .btn:hover { background: #ff5252; }
        .btn.active { background: #ff4757; animation: pulse 1s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .status { background: rgba(255,255,255,0.1); border-radius: 10px; padding: 15px; margin: 15px 0; }
        .row { display: flex; justify-content: space-between; margin: 8px 0; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .card { background: rgba(255,255,255,0.1); border-radius: 10px; padding: 20px; text-align: center; }
        .icon { font-size: 2em; display: block; margin-bottom: 10px; }
        .hidden { display: none; }
        @media (max-width: 600px) { .nav { flex-direction: column; } .nav-item { margin: 2px 0; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">ğŸ¥</div>
            <h1 class="title">TCLDCAM</h1>
            <p>æ™ºèƒ½è²éŸ³èˆ‡è¦–è¦ºåµæ¸¬</p>
        </div>
        
        <div class="nav">
            <div class="nav-item active" onclick="show('home')">ğŸ  ä¸»é </div>
            <div class="nav-item" onclick="show('settings')">âš™ï¸ è¨­å®š</div>
            <div class="nav-item" onclick="show('files')">ğŸ“ æª”æ¡ˆ</div>
            <div class="nav-item" onclick="show('models')">ğŸ¤– æ¨¡å‹</div>
        </div>
        
        <div id="home" class="content">
            <h2 style="text-align: center; margin-bottom: 20px;">ğŸ¯ åµæ¸¬æ§åˆ¶</h2>
            <div style="text-align: center;">
                <button id="recordBtn" class="btn" onclick="toggle()">ğŸ¤ é–‹å§‹åµæ¸¬</button>
            </div>
            
            <div class="status">
                <div class="row"><span>ğŸ“Š ç‹€æ…‹:</span><span id="status">å¾…æ©Ÿä¸­</span></div>
                <div class="row"><span>ğŸµ éŸ³é‡:</span><span id="volume">0 dB</span></div>
                <div class="row"><span>ğŸ‘ï¸ è¦–è¦º:</span><span id="visual">æœªå•Ÿå‹•</span></div>
                <div class="row"><span>â±ï¸ æ™‚é–“:</span><span id="time">00:00</span></div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <span class="icon">ğŸµ</span>
                    <h3>è²éŸ³åµæ¸¬</h3>
                    <p>æ™ºèƒ½è­˜åˆ¥ç‰¹å®šè²éŸ³æ¨¡å¼</p>
                </div>
                <div class="card">
                    <span class="icon">ğŸ‘ï¸</span>
                    <h3>è¦–è¦ºåµæ¸¬</h3>
                    <p>AIé©…å‹•çš„ç•«é¢åˆ†æ</p>
                </div>
                <div class="card">
                    <span class="icon">ğŸ“¹</span>
                    <h3>è‡ªå‹•éŒ„è£½</h3>
                    <p>åµæ¸¬åˆ°ç›®æ¨™æ™‚è‡ªå‹•éŒ„è£½</p>
                </div>
                <div class="card">
                    <span class="icon">ğŸ¤–</span>
                    <h3>AIæ¨¡å‹</h3>
                    <p>é›²ç«¯æ›´æ–°èˆ‡æœ¬åœ°ç·©å­˜</p>
                </div>
            </div>
        </div>
        
        <div id="settings" class="content hidden">
            <h2 style="text-align: center; margin-bottom: 20px;">âš™ï¸ åµæ¸¬è¨­å®š</h2>
            <div class="status">
                <h3>ğŸµ è²éŸ³è¨­å®š</h3>
                <div class="row"><span>åµæ¸¬é–¾å€¼:</span><span>50 dB</span></div>
                <input type="range" style="width: 100%; margin: 10px 0;" min="0" max="100" value="50">
                
                <h3>ğŸ‘ï¸ è¦–è¦ºè¨­å®š</h3>
                <div class="row"><span>éˆæ•åº¦:</span><span>ä¸­ç­‰</span></div>
                <input type="range" style="width: 100%; margin: 10px 0;" min="0" max="100" value="50">
                
                <h3>ğŸ“¹ éŒ„è£½è¨­å®š</h3>
                <div class="row">
                    <span>å“è³ª:</span>
                    <select style="padding: 5px; background: rgba(255,255,255,0.2); border: none; color: white; border-radius: 5px;">
                        <option>ä¸­ (1080p)</option>
                        <option>ä½ (720p)</option>
                        <option>é«˜ (4K)</option>
                    </select>
                </div>
                <div class="row">
                    <span>è‡ªå‹•éŒ„è£½:</span>
                    <input type="checkbox" checked>
                </div>
            </div>
        </div>
        
        <div id="files" class="content hidden">
            <h2 style="text-align: center; margin-bottom: 20px;">ğŸ“ éŒ„è£½æª”æ¡ˆ</h2>
            <div class="status">
                <div class="row"><span>ğŸ“Š æª”æ¡ˆæ•¸:</span><span>3 å€‹</span></div>
                <div class="row"><span>ğŸ’¾ ç©ºé–“:</span><span>156 MB / 2 GB</span></div>
            </div>
            <div class="grid">
                <div class="card">
                    <span class="icon">ğŸµ</span>
                    <h4>éŸ³é »_143022.aac</h4>
                    <p>30ç§’ | 2.3MB</p>
                    <button class="btn" style="font-size: 0.8em; padding: 8px 16px;">â–¶ï¸ æ’­æ”¾</button>
                </div>
                <div class="card">
                    <span class="icon">ğŸ“¹</span>
                    <h4>è¦–é »_142015.mp4</h4>
                    <p>45ç§’ | 12.7MB</p>
                    <button class="btn" style="font-size: 0.8em; padding: 8px 16px;">â–¶ï¸ æ’­æ”¾</button>
                </div>
                <div class="card">
                    <span class="icon">ğŸ¬</span>
                    <h4>å®Œæ•´_141230.mp4</h4>
                    <p>1:23 | 28.9MB</p>
                    <button class="btn" style="font-size: 0.8em; padding: 8px 16px;">â–¶ï¸ æ’­æ”¾</button>
                </div>
            </div>
        </div>
        
        <div id="models" class="content hidden">
            <h2 style="text-align: center; margin-bottom: 20px;">ğŸ¤– AIæ¨¡å‹</h2>
            <div class="status">
                <div class="row"><span>ğŸ”„ æ›´æ–°:</span><span>2025-01-07 14:30</span></div>
                <div class="row"><span>ğŸ“¡ ç‹€æ…‹:</span><span style="color: #27ae60;">âœ… å·²é€£ç·š</span></div>
            </div>
            <div class="grid">
                <div class="card">
                    <span class="icon">ğŸµ</span>
                    <h4>è²éŸ³æ¨¡å‹ v2.3</h4>
                    <p>å·²è¼‰å…¥ | 15.2MB</p>
                    <button class="btn" style="font-size: 0.8em; padding: 8px 16px;">ğŸ”„ æ›´æ–°</button>
                </div>
                <div class="card">
                    <span class="icon">ğŸ‘ï¸</span>
                    <h4>è¦–è¦ºæ¨¡å‹ v1.8</h4>
                    <p>å·²è¼‰å…¥ | 23.7MB</p>
                    <button class="btn" style="font-size: 0.8em; padding: 8px 16px;">ğŸ”„ æ›´æ–°</button>
                </div>
                <div class="card">
                    <span class="icon">ğŸ§ </span>
                    <h4>æ ¸å¿ƒ v3.1</h4>
                    <p>å·²è¼‰å…¥ | 45.1MB</p>
                    <button class="btn" style="font-size: 0.8em; padding: 8px 16px;">ğŸ”„ æ›´æ–°</button>
                </div>
            </div>
        </div>
        
        <p style="text-align: center; margin-top: 30px; opacity: 0.7; font-size: 0.9em;">
            ç‰ˆæœ¬ v1.0.16 | è¼•é‡ç´šWebæ‡‰ç”¨ | 512MB RAMæœ€ä½³åŒ–
        </p>
    </div>
    
    <script>
        let recording = false, time = 0, interval, mediaRecorder, recordedChunks = [], stream;
        let recordingFiles = JSON.parse(localStorage.getItem('tcldcam_files') || '[]');
        
        function show(tab) {
            document.querySelectorAll('.content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById(tab).classList.remove('hidden');
            event.target.classList.add('active');
            
            if (tab === 'files') {
                updateFilesList();
            }
        }
        
        async function toggle() {
            const btn = document.getElementById('recordBtn');
            const status = document.getElementById('status');
            
            if (!recording) {
                try {
                    stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    mediaRecorder = new MediaRecorder(stream);
                    recordedChunks = [];
                    
                    mediaRecorder.ondataavailable = (event) => {
                        if (event.data.size > 0) {
                            recordedChunks.push(event.data);
                        }
                    };
                    
                    mediaRecorder.onstop = () => {
                        saveRecording();
                    };
                    
                    mediaRecorder.start();
                    recording = true;
                    btn.textContent = 'â¹ï¸ åœæ­¢éŒ„è£½';
                    btn.classList.add('active');
                    status.textContent = 'ğŸ”´ éŒ„è£½ä¸­';
                    time = 0;
                    interval = setInterval(updateDisplay, 1000);
                    
                    console.log('âœ… é–‹å§‹éŒ„éŸ³');
                } catch (error) {
                    console.log('âš ï¸ æ¬Šé™è¢«æ‹’çµ•ï¼Œä½¿ç”¨æ¨¡æ“¬æ¨¡å¼');
                    startSimulation();
                }
            } else {
                stopRecording();
            }
        }
        
        function startSimulation() {
            recording = true;
            const btn = document.getElementById('recordBtn');
            const status = document.getElementById('status');
            btn.textContent = 'â¹ï¸ åœæ­¢éŒ„è£½';
            btn.classList.add('active');
            status.textContent = 'ğŸ”´ éŒ„è£½ä¸­ (æ¨¡æ“¬)';
            time = 0;
            interval = setInterval(updateDisplay, 1000);
        }
        
        function stopRecording() {
            recording = false;
            const btn = document.getElementById('recordBtn');
            const status = document.getElementById('status');
            
            btn.textContent = 'ğŸ¤ é–‹å§‹åµæ¸¬';
            btn.classList.remove('active');
            status.textContent = 'ğŸ’¾ ä¿å­˜ä¸­...';
            clearInterval(interval);
            
            if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                mediaRecorder.stop();
                stream?.getTracks().forEach(track => track.stop());
            } else {
                // æ¨¡æ“¬æ¨¡å¼ä¿å­˜
                saveSimulatedRecording();
            }
            
            setTimeout(() => {
                status.textContent = 'å¾…æ©Ÿä¸­';
                document.getElementById('time').textContent = '00:00';
            }, 2000);
        }
        
        function saveRecording() {
            const blob = new Blob(recordedChunks, { type: 'audio/webm' });
            const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
            const fileName = `éŒ„éŸ³_${timestamp.substring(0,19)}.webm`;
            
            // è½‰æ›ç‚ºbase64ä¿å­˜åˆ°localStorage
            const reader = new FileReader();
            reader.onloadend = () => {
                const fileData = {
                    id: Date.now(),
                    name: fileName,
                    type: 'audio',
                    duration: time,
                    size: blob.size,
                    data: reader.result,
                    timestamp: new Date().toLocaleString('zh-TW'),
                    triggerType: 'æ‰‹å‹•éŒ„è£½'
                };
                
                recordingFiles.unshift(fileData);
                // é™åˆ¶æœ€å¤šä¿å­˜10å€‹æª”æ¡ˆ
                if (recordingFiles.length > 10) {
                    recordingFiles = recordingFiles.slice(0, 10);
                }
                
                localStorage.setItem('tcldcam_files', JSON.stringify(recordingFiles));
                console.log(`âœ… ä¿å­˜éŒ„éŸ³: ${fileName} (${blob.size} bytes)`);
            };
            reader.readAsDataURL(blob);
        }
        
        function saveSimulatedRecording() {
            const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
            const fileName = `æ¨¡æ“¬éŒ„éŸ³_${timestamp.substring(0,19)}.webm`;
            
            const fileData = {
                id: Date.now(),
                name: fileName,
                type: 'audio',
                duration: time,
                size: Math.floor(Math.random() * 500000) + 100000, // æ¨¡æ“¬æª”æ¡ˆå¤§å°
                data: 'data:audio/webm;base64,simulated', // æ¨¡æ“¬æ•¸æ“š
                timestamp: new Date().toLocaleString('zh-TW'),
                triggerType: 'æ¨¡æ“¬éŒ„è£½'
            };
            
            recordingFiles.unshift(fileData);
            if (recordingFiles.length > 10) {
                recordingFiles = recordingFiles.slice(0, 10);
            }
            
            localStorage.setItem('tcldcam_files', JSON.stringify(recordingFiles));
            console.log(`âœ… ä¿å­˜æ¨¡æ“¬éŒ„éŸ³: ${fileName}`);
        }
        
        function updateFilesList() {
            const filesGrid = document.querySelector('#files .grid');
            if (!filesGrid) return;
            
            if (recordingFiles.length === 0) {
                filesGrid.innerHTML = '<div class="card"><span class="icon">ğŸ“­</span><h4>æš«ç„¡éŒ„è£½æª”æ¡ˆ</h4><p>é–‹å§‹éŒ„è£½å¾Œæª”æ¡ˆå°‡é¡¯ç¤ºåœ¨é€™è£¡</p></div>';
                return;
            }
            
            filesGrid.innerHTML = recordingFiles.map(file => `
                <div class="card">
                    <span class="icon">${file.type === 'audio' ? 'ğŸµ' : 'ğŸ“¹'}</span>
                    <h4>${file.name}</h4>
                    <p>${formatDuration(file.duration)} | ${formatFileSize(file.size)}</p>
                    <p style="font-size: 0.8em; opacity: 0.8;">${file.timestamp}</p>
                    <button class="btn" style="font-size: 0.8em; padding: 8px 16px;" onclick="playFile(${file.id})">â–¶ï¸ æ’­æ”¾</button>
                    <button class="btn" style="font-size: 0.8em; padding: 8px 16px; background: #ff4757;" onclick="deleteFile(${file.id})">ğŸ—‘ï¸ åˆªé™¤</button>
                </div>
            `).join('');
            
            // æ›´æ–°çµ±è¨ˆ
            const totalSize = recordingFiles.reduce((sum, file) => sum + file.size, 0);
            document.querySelector('#files .status').innerHTML = `
                <div class="row"><span>ğŸ“Š æª”æ¡ˆæ•¸:</span><span>${recordingFiles.length} å€‹</span></div>
                <div class="row"><span>ğŸ’¾ ç©ºé–“:</span><span>${formatFileSize(totalSize)} / 2 GB</span></div>
            `;
        }
        
        function formatDuration(seconds) {
            const min = Math.floor(seconds / 60);
            const sec = seconds % 60;
            return `${min}:${sec.toString().padStart(2, '0')}`;
        }
        
        function formatFileSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
        }
        
        function playFile(id) {
            const file = recordingFiles.find(f => f.id === id);
            if (!file) return;
            
            if (file.data === 'data:audio/webm;base64,simulated') {
                alert('é€™æ˜¯æ¨¡æ“¬æª”æ¡ˆï¼Œç„¡æ³•æ’­æ”¾ã€‚è«‹å…è¨±éº¥å…‹é¢¨æ¬Šé™ä»¥éŒ„è£½çœŸå¯¦éŸ³é »ã€‚');
                return;
            }
            
            const audio = new Audio(file.data);
            audio.play().then(() => {
                console.log(`â–¶ï¸ æ’­æ”¾: ${file.name}`);
            }).catch(error => {
                console.error('æ’­æ”¾å¤±æ•—:', error);
                alert('æ’­æ”¾å¤±æ•—ï¼Œæª”æ¡ˆå¯èƒ½å·²æå£');
            });
        }
        
        function deleteFile(id) {
            if (confirm('ç¢ºå®šè¦åˆªé™¤é€™å€‹æª”æ¡ˆå—ï¼Ÿ')) {
                recordingFiles = recordingFiles.filter(f => f.id !== id);
                localStorage.setItem('tcldcam_files', JSON.stringify(recordingFiles));
                updateFilesList();
                console.log('ğŸ—‘ï¸ æª”æ¡ˆå·²åˆªé™¤');
            }
        }
        
        function updateDisplay() {
            time++;
            const min = Math.floor(time / 60), sec = time % 60;
            document.getElementById('time').textContent = 
                `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
            document.getElementById('volume').textContent = `${Math.floor(Math.random() * 40) + 30} dB`;
            const states = ['åµæ¸¬ä¸­', 'ç™¼ç¾å‹•æ…‹', 'åˆ†æä¸­'];
            document.getElementById('visual').textContent = states[Math.floor(Math.random() * 3)];
        }
        
        setInterval(() => {
            if (!recording) {
                document.getElementById('volume').textContent = `${Math.floor(Math.random() * 20) + 15} dB`;
            }
        }, 3000);
        
        console.log('ğŸš€ TCLDCAM è¼•é‡ç´šæ‡‰ç”¨å·²è¼‰å…¥ (512MB RAMæœ€ä½³åŒ–)');
    </script>
</body>
</html>