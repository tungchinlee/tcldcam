# ğŸ³ TCLDCAM Docker éƒ¨ç½²æŒ‡å—

## ğŸš€ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤

### Dockerç‰ˆæœ¬åŒ–éƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰
```bash
# å°ç‰ˆæœ¬æ›´æ–° (1.0.1 â†’ 1.0.2)
./docker-deploy.sh patch "ä¿®å¾©Dockerå¥åº·æª¢æŸ¥"

# åŠŸèƒ½æ›´æ–° (1.0.1 â†’ 1.1.0)
./docker-deploy.sh minor "æ–°å¢Dockerå„ªåŒ–"

# é‡å¤§æ›´æ–° (1.0.1 â†’ 2.0.0)  
./docker-deploy.sh major "Dockerç”Ÿç”¢å°±ç·’"
```

### å‚³çµ±npméƒ¨ç½²
```bash
# ä¸ä½¿ç”¨Docker
./deploy.sh patch "å‚³çµ±éƒ¨ç½²æ–¹å¼"
```

## ğŸ³ Docker ç‰¹æ€§

### å¤šéšæ®µæ§‹å»º
- **Buildéšæ®µ**: å®‰è£ä¾è³´ã€æ§‹å»ºæ‡‰ç”¨
- **Productionéšæ®µ**: åƒ…åŒ…å«ç”Ÿç”¢ä¾è³´å’Œæ§‹å»ºç”¢ç‰©
- **é¡åƒå¤§å°**: æœ€å°åŒ–ï¼Œå®‰å…¨å„ªåŒ–

### å®‰å…¨ç‰¹æ€§
- âœ… érootç”¨æˆ¶é‹è¡Œ
- âœ… æœ€å°æ¬Šé™åŸå‰‡
- âœ… å®‰å…¨çš„Alpine LinuxåŸºåº•
- âœ… dumb-inité€²ç¨‹ç®¡ç†

### å¥åº·æª¢æŸ¥
- âœ… å…§å»ºHTTPå¥åº·æª¢æŸ¥
- âœ… 30ç§’é–“éš”ç›£æ§
- âœ… è‡ªå‹•é‡å•Ÿæ©Ÿåˆ¶
- âœ… å®¹å™¨ç‹€æ…‹ç›£æ§

## ğŸ“¦ Docker å‘½ä»¤

### æœ¬åœ°é–‹ç™¼
```bash
# æ§‹å»ºé¡åƒ
docker build -t tcldcam:latest .

# é‹è¡Œå®¹å™¨
docker run -p 8080:8080 tcldcam:latest

# ä½¿ç”¨Docker Compose
docker-compose up -d

# æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f tcldcam
```

### ç”Ÿç”¢éƒ¨ç½²
```bash
# æ§‹å»ºä¸¦æ¨™è¨˜ç‰ˆæœ¬
docker build -t tcldcam:v1.0.2 .
docker tag tcldcam:v1.0.2 tcldcam:latest

# æ¨é€åˆ°Registryï¼ˆå¦‚éœ€è¦ï¼‰
docker push your-registry/tcldcam:v1.0.2
```

## âš™ï¸ Render.com Dockeréƒ¨ç½²

### è‡ªå‹•æª¢æ¸¬
Renderæœƒè‡ªå‹•æª¢æ¸¬åˆ°Dockerfileä¸¦ä½¿ç”¨Dockeréƒ¨ç½²æ¨¡å¼ï¼š

```yaml
# render.yaml
services:
  - type: web
    name: tcldcam
    env: docker
    dockerfilePath: ./Dockerfile
```

### ç’°å¢ƒè®Šé‡
- `NODE_ENV=production`
- `PORT=$PORT` (Renderè‡ªå‹•è¨­ç½®)

## ğŸ”§ æ•…éšœæ’é™¤

### æ§‹å»ºå¤±æ•—
```bash
# æª¢æŸ¥Dockerfileèªæ³•
docker build --no-cache -t tcldcam:debug .

# æŸ¥çœ‹æ§‹å»ºéç¨‹
docker build --progress=plain -t tcldcam:debug .
```

### å®¹å™¨é‹è¡Œå•é¡Œ
```bash
# æŸ¥çœ‹å®¹å™¨æ—¥èªŒ
docker logs container-id

# é€²å…¥å®¹å™¨èª¿è©¦
docker exec -it container-id /bin/sh

# æª¢æŸ¥å¥åº·ç‹€æ…‹
docker inspect container-id | grep Health -A 10
```

### ç«¯å£å•é¡Œ
```bash
# æª¢æŸ¥ç«¯å£å ç”¨
lsof -i :8080

# ä½¿ç”¨ä¸åŒç«¯å£
docker run -p 3000:8080 tcldcam:latest
```

## ğŸ“Š æ€§èƒ½å„ªåŒ–

### é¡åƒå¤§å°
- âœ… å¤šéšæ®µæ§‹å»ºæ¸›å°‘é«”ç©
- âœ… Alpine Linuxè¼•é‡åŸºåº•
- âœ… æ¸…ç†npmç·©å­˜
- âœ… åƒ…ä¿ç•™ç”Ÿç”¢ä¾è³´

### é‹è¡Œæ™‚å„ªåŒ–
- âœ… Node.jsæ€§èƒ½èª¿å„ª
- âœ… éœæ…‹è³‡æºç·©å­˜
- âœ… é€²ç¨‹ä¿¡è™Ÿè™•ç†
- âœ… å…§å­˜ä½¿ç”¨ç›£æ§

## ğŸŒ éƒ¨ç½²é¸é …æ¯”è¼ƒ

| ç‰¹æ€§ | Dockeréƒ¨ç½² | å‚³çµ±éƒ¨ç½² |
|------|------------|----------|
| ä¸€è‡´æ€§ | âœ… å®Œå…¨ä¸€è‡´ | âš ï¸ ç’°å¢ƒå·®ç•° |
| å®‰å…¨æ€§ | âœ… å®¹å™¨éš”é›¢ | âš ï¸ ç³»çµ±ç´šåˆ¥ |
| æ“´å±•æ€§ | âœ… å®¹å™¨ç·¨æ’ | âŒ æ‰‹å‹•ç®¡ç† |
| è³‡æºä½¿ç”¨ | âœ… å¯æ§åˆ¶ | âš ï¸ ç³»çµ±å…±äº« |
| éƒ¨ç½²é€Ÿåº¦ | âš ï¸ éœ€æ§‹å»ºæ™‚é–“ | âœ… è¼ƒå¿« |
| ç¶­è­·æ€§ | âœ… æ˜“æ–¼ç®¡ç† | âš ï¸ ä¾è³´ç®¡ç† |

## ğŸ’¡ æœ€ä½³å¯¦è¸

1. **ç¸½æ˜¯ä½¿ç”¨ç‰ˆæœ¬æ¨™ç±¤**: é¿å…ä½¿ç”¨`latest`åœ¨ç”Ÿç”¢ç’°å¢ƒ
2. **å®šæœŸæ›´æ–°åŸºç¤é¡åƒ**: å®‰å…¨æ€§å’Œæ€§èƒ½æ”¹é€²
3. **ç›£æ§è³‡æºä½¿ç”¨**: CPUã€è¨˜æ†¶é«”ã€ç£ç¢Ÿç©ºé–“
4. **å‚™ä»½é‡è¦æ•¸æ“š**: å®¹å™¨å¤–æŒä¹…åŒ–å­˜å„²
5. **ä½¿ç”¨å¥åº·æª¢æŸ¥**: è‡ªå‹•æ•…éšœæ¢å¾©

## ğŸ¯ æ¨è–¦å·¥ä½œæµ

```bash
# 1. é–‹ç™¼éšæ®µ
npm start                    # æœ¬åœ°é–‹ç™¼

# 2. æ¸¬è©¦éšæ®µ  
npm run build               # æ§‹å»ºæ¸¬è©¦
docker build -t tcldcam:test . # Dockeræ¸¬è©¦

# 3. éƒ¨ç½²éšæ®µ
./docker-deploy.sh patch "åŠŸèƒ½æè¿°"  # ç‰ˆæœ¬åŒ–éƒ¨ç½²
```